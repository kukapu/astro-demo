---

import { type APISpaceXResponse } from '../types/api';
import CardLaunch from './CardLaunch.astro';
import { getLatestLaunches } from '../services/spacex';

const launches = await getLatestLaunches();
// console.log(launches);

---

<div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
    {
      launches.map(
        ({ id, links, details, flight_number: flightNumber, success }) => (
          <CardLaunch 
            id={id}
            img={links.patch.small}
            details={details}
            fligthNumber={flightNumber} 
            success={success}
          />
        )
      )
    }
</div>